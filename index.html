<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SRGElab | Space Robotics & Generative Estimation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Styles consolidated inline for better performance -->
    <style>
        :root {
            --primary-color: #00529c;
            --secondary-color: #fbcc06;
            --accent-color: #00529c;
            --accent-hover: #003d73;
            --light-bg: #f8f9fa;
            --dark-bg: #1a1a1a;
            --card-bg: #ffffff;
            --text-color: #333333;
            --text-light: #ffffff;
            --header-bg: #00529c;
            --logo-ring: var(--accent-color);
            --logo-cross: var(--secondary-color);
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 2rem;
            --spacing-xl: 4rem;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            margin: 0;
            padding: 0;
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        body.dark {
            --primary-color: #fbcc06;
            --secondary-color: #00529c;
            --accent-color: #fbcc06;
            --accent-hover: #e6b800;
            --light-bg: #1a1a1a;
            --card-bg: #2a2a2a;
            --text-color: #e0e0e0;
            --text-light: #ffffff;
            --header-bg: #fbcc06;
            --logo-ring: var(--accent-color);
            --logo-cross: var(--secondary-color);
            background: #121212;
            color: var(--text-color);
        }

        .container {
            width: 90%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }

        @media (min-width: 1600px) {
            .container {
                max-width: 1600px;
            }
        }

        /* Header styles */
        header {
            background-color: var(--header-bg);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--box-shadow);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md) 0;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .site-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-light);
            letter-spacing: 1px;
        }

        .site-title span {
            color: var(--secondary-color);
        }

        body.dark .site-title {
            color: var(--secondary-color);
        }

        body.dark .site-title span {
            color: var(--text-light);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: var(--spacing-lg);
            margin: 0;
            padding: 0;
        }

        .nav-links a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding: var(--spacing-sm) 0;
        }

        .nav-links a:hover {
            color: var(--secondary-color);
        }

        body.dark .nav-links a {
            color: var(--secondary-color);
        }

        body.dark .nav-links a:hover {
            color: var(--text-light);
        }

        .menu-toggle {
            display: none;
            flex-direction: column;
            gap: 6px;
            cursor: pointer;
        }

        .menu-toggle span {
            width: 30px;
            height: 3px;
            background-color: var(--text-light);
            transition: var(--transition);
        }

        .hero {
            position: relative;
            overflow: hidden;
            height: 50vh;
            min-height: 400px;
            max-height: 600px;
            display: flex;
            align-items: center;
            color: var(--text-light);
        }
        
        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }
        
        .hero-background img, 
        .hero-background video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.3;
        }
        
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 30, 60, 0.8);
            z-index: -1;
        }

        .hero-content {
            max-width: 800px;
            position: relative;
            z-index: 1;
        }

        .hero-content h1 {
            font-size: 2.8rem;
            margin-bottom: var(--spacing-md);
            font-weight: 800;
            line-height: 1.1;
        }

        .hero-content h1 span {
            color: var(--secondary-color);
        }

        .hero-content p {
            font-size: 1.1rem;
            margin-bottom: var(--spacing-lg);
            max-width: 600px;
            line-height: 1.6;
        }

        /* Section styles */
        .section {
            padding: 3rem 0;
            position: relative;
        }

        .section:first-of-type {
            padding-top: 2rem;
        }

        .section-light {
            background-color: var(--light-bg);
        }

        .section-title {
            margin-bottom: var(--spacing-md);
            text-align: center;
        }

        .section-title h2 {
            font-size: 2.5rem;
            margin: 0;
            color: var(--primary-color);
            position: relative;
            display: inline-block;
        }

        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: var(--secondary-color);
        }

        .section-subtitle {
            text-align: center;
            max-width: 800px;
            margin: 0 auto var(--spacing-lg);
            font-size: 1.1rem;
        }

        /* Lab photos gallery */
        .lab-photos {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-md);
            margin: var(--spacing-lg) 0;
        }
        
        .lab-photo {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            aspect-ratio: 16 / 9;
        }
        
        .lab-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease;
        }
        
        .lab-photo img:hover {
            transform: scale(1.03);
        }

        /* Button styles */
        .btn {
            display: inline-block;
            padding: 0.8rem 1.8rem;
            background-color: var(--secondary-color);
            color: white;
            text-decoration: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            transition: var(--transition);
            margin-right: var(--spacing-md);
            border: 2px solid var(--secondary-color);
        }

        .btn:hover {
            background-color: transparent;
            color: var(--secondary-color);
        }

        .btn-outline {
            background-color: transparent;
            color: var(--text-light);
            border: 2px solid var(--text-light);
        }

        .btn-outline:hover {
            background-color: var(--text-light);
            color: var(--primary-color);
            border-color: var(--text-light);
        }

        /* Scrollable sections */
        .scroll-container {
            width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
            padding-bottom: 16px;
        }
        
        .scroll-container::-webkit-scrollbar {
            height: 8px;
        }
        
        .scroll-container::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 4px;
        }
        
        .scroll-container::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 4px;
        }
        
        .research-grid, .team-grid {
            display: flex;
            flex-wrap: nowrap;
            gap: var(--spacing-lg);
            padding: var(--spacing-md) 0;
            min-width: min-content;
        }
        
        .research-card, .team-member {
            flex: 0 0 auto;
            width: 350px;
            max-width: none;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .research-card:hover, .team-member:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        
        .research-card-img, .team-member-img {
            width: 100%;
            height: 220px;
            overflow: hidden;
        }
        
        .research-card-img img, .team-member-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }
        
        .research-card:hover .research-card-img img,
        .team-member:hover .team-member-img img {
            transform: scale(1.05);
        }
        
        .research-card-content, .team-member-info {
            padding: var(--spacing-md);
        }
        
        .research-card-content h3, .team-member-info h3 {
            margin-top: 0;
            color: var(--primary-color);
        }
        
        .team-member-role {
            color: var(--secondary-color);
            font-weight: 600;
            margin: 0 0 var(--spacing-sm);
            text-transform: uppercase;
            font-size: 0.9rem;
        }
        
        .team-member-contact {
            margin-top: var(--spacing-md);
        }
        
        .team-member-contact a {
            color: var(--accent-color);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .team-member-contact a:hover {
            color: var(--accent-hover);
        }
        
        /* Scroll indicators */
        .scroll-indicators {
            display: flex;
            justify-content: center;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-md);
        }
        
        .scroll-indicator {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .scroll-indicator:hover {
            background: var(--accent-hover);
        }

        /* Equipment section */
        .section-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .section-content ul {
            list-style-type: none;
            padding: 0;
        }

        .section-content li {
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            position: relative;
            padding-left: 3rem;
            color: var(--text-color);
        }

        .section-content li::before {
            content: "";
            position: absolute;
            left: var(--spacing-md);
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background-color: var(--secondary-color);
            border-radius: 50%;
        }

        /* Contact section */
        .contact-info {
            max-width: 800px;
            margin: 0 auto;
        }

        .contact-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-md);
        }

        .contact-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }

        .contact-text a {
            color: var(--accent-color);
            text-decoration: none;
            transition: var(--transition);
        }

        .contact-text a:hover {
            color: var(--accent-hover);
        }

        /* Footer */
        footer {
            background-color: var(--primary-color);
            color: var(--text-light);
            padding: var(--spacing-lg) 0;
            text-align: center;
        }

        .footer-content p {
            margin: var(--spacing-sm) 0;
        }

        /* Team member card styles - consolidated */
        .team-member-img {
            width: 100%;
            height: 300px;
            overflow: hidden;
            position: relative;
        }
        
        .team-member-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center top;
            transition: all 0.3s ease;
        }
        
        .team-member:hover .team-member-img img {
            transform: scale(1.05);
        }
        
        .team-member-info {
            padding: 1.5rem;
        }
        
        .team-member-info h3 {
            margin-top: 0;
            color: var(--primary-color);
            font-size: 1.25rem;
            font-weight: 700;
        }
        
        .team-member-role {
            color: var(--secondary-color);
            font-weight: 600;
            margin: 0 0 0.75rem;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }
        
        .team-member-info p {
            margin-bottom: 1rem;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .team-member-contact {
            margin-top: 1rem;
        }
        
        .team-member-contact a {
            color: var(--accent-color);
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .team-member-contact a:hover {
            color: var(--accent-hover);
            text-decoration: underline;
        }

        img {
            object-fit: cover;
        }

        /* Responsive */
        @media screen and (max-width: 768px) {
            .menu-toggle {
                display: flex;
            }
            
            .nav-links {
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: var(--primary-color);
                flex-direction: column;
                align-items: center;
                padding: var(--spacing-md) 0;
                gap: var(--spacing-md);
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
                transition: var(--transition);
                z-index: 999;
            }
            
            .nav-links.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }
            
            .menu-toggle.active span:nth-child(1) {
                transform: rotate(45deg) translate(5px, 6px);
            }
            
            .menu-toggle.active span:nth-child(2) {
                opacity: 0;
            }
            
            .menu-toggle.active span:nth-child(3) {
                transform: rotate(-45deg) translate(5px, -6px);
            }
            
            .hero-content h1 {
                font-size: 2.5rem;
            }
            
            .hero-content p {
                font-size: 1rem;
            }
            
            .lab-photos { grid-template-columns: 1fr; }
            
            .contact-details {
                grid-template-columns: 1fr;
            }

            /* On mobile, maintain horizontal scroll for carousels */
            .scroll-container { 
                overflow-x: auto; 
                padding-bottom: 20px; 
                -webkit-overflow-scrolling: touch;
            }
            .research-grid, .team-grid { 
                display: flex; 
                flex-wrap: nowrap; 
                gap: var(--spacing-lg); 
                min-width: min-content; 
                padding: var(--spacing-sm) 0;
            }
            .research-card, .team-member { 
                flex: 0 0 auto; 
                width: 280px; 
                max-width: 85vw; 
            }
            
            .hero-content h1 {
                font-size: 2rem;
                line-height: 1.1;
            }
            
            .hero-content p {
                font-size: 1rem;
                margin-bottom: var(--spacing-md);
            }
        }
    </style>
</head>
<body>
    <header id="header">
        <div class="container">
            <nav>
                <div class="logo-container">
                    <img id="siteLogo" class="logo" src="assets/Copy of SRGE Lab_black 1.png" alt="SRGElab logo" style="height:50px; width:auto; object-fit:contain" />
                    <div class="site-title">SRGE<span>lab</span></div>
                </div>
                
                <ul class="nav-links" id="navLinks">
                    <li><a href="./index.html#home">Home</a></li>
                    <li><a href="./research.html">Research</a></li>
                    <li><a href="./publications.html">Publications</a></li>
                    <li><a href="./team.html">Team</a></li>
                    <li><a href="./news.html">News</a></li>
                    <li><a href="./index.html#contact">Contact</a></li>
                </ul>

                <div class="menu-toggle" id="menuToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <button id="themeToggle" aria-label="Toggle theme" style="margin-left: 12px; background: transparent; color: var(--text-light); border: 2px solid var(--text-light); border-radius: 6px; padding: 6px 10px; cursor: pointer;">
                    🌓
                </button>
                <style>
                    body.dark #themeToggle {
                        color: var(--secondary-color);
                        border-color: var(--secondary-color);
                    }
                </style>
            </nav>
        </div>
    </header>

    <section class="hero" id="home">
        <div class="hero-background">
            <img src="./assets/space-robotics-bg.gif" alt="Space robotics animation" onerror="this.style.display='none'">
        </div>
        <div class="hero-overlay"></div>
        
        <div class="container">
            <div class="hero-content">
                <h1>Space Robotics & <span>Generative Estimation</span> Lab</h1>
                <p>Advancing autonomous robotics for space exploration, planetary navigation, and extreme environments through cutting-edge perception and estimation technologies.</p>
                <div>
                    <a href="./research.html" class="btn">Our Research</a>
                    <a href="./team.html" class="btn btn-outline">Meet Our Team</a>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Research first -->
    <section class="section section-light" id="research">
        <div class="container">
            <div class="section-title">
                <h2>Research Areas</h2>
            </div>
            <div class="section-subtitle">
                Exploring the frontiers of autonomous robotics through innovative approaches to perception, estimation, and control in challenging environments.
            </div>
            <!-- Research grid horizontally scrollable -->
            <div class="scroll-container">
                <div class="research-grid">
                    <div class="research-card">
                        <div class="research-card-img">
                            <img src="./assets/lab/lab-photo-1.jpg" alt="Localization and Mapping" onerror="this.src='assets/placeholder/robot.svg'">
                        </div>
                        <div class="research-card-content">
                            <h3>Localization and Mapping</h3>
                            <p>Developing robust state estimation frameworks for ground and legged robots operating on extreme environments (i.e., planetary surfaces).</p>
                            <a href="./research.html" class="btn">Learn More</a>
                        </div>
                    </div>
                    
                    <div class="research-card">
                        <div class="research-card-img">
                            <img src="./assets/lab/lab-photo-2.jpg" alt="Multi-Robot Systems" onerror="this.src='assets/placeholder/robot.svg'">
                        </div>
                        <div class="research-card-content">
                            <h3>Multi-Robot Systems</h3>
                            <p>Exploring swarm-based and distributed estimation techniques for improved localization and environmental perception.</p>
                            <a href="./research.html" class="btn">Learn More</a>
                        </div>
                    </div>
                    
                    <div class="research-card">
                        <div class="research-card-img">
                            <img src="./assets/lab/lab-photo-3.jpg" alt="Physics-Informed Estimation" onerror="this.src='assets/placeholder/robot.svg'">
                        </div>
                        <div class="research-card-content">
                            <h3>Physics-Informed Estimation</h3>
                            <p>Enhancing navigation accuracy by incorporating physical laws and constraints relevant to planetary environments.</p>
                            <a href="./research.html" class="btn">Learn More</a>
                        </div>
                    </div>
                    
                    <div class="research-card">
                        <div class="research-card-img">
                            <img src="./assets/lab/lab-photo-4.jpg" alt="Terrain-Aware Mobility" onerror="this.src='assets/placeholder/robot.svg'">
                        </div>
                        <div class="research-card-content">
                            <h3>Terrain-Aware Mobility</h3>
                            <p>Modeling robot-terrain interactions to improve slip-aware localization and locomotion strategies.</p>
                            <a href="./research.html" class="btn">Learn More</a>
                        </div>
                    </div>
                    
                    <div class="research-card">
                        <div class="research-card-img">
                            <img src="./assets/lab/lab-photo-2.jpg" alt="Application to Space Missions" onerror="this.src='assets/placeholder/robot.svg'">
                        </div>
                        <div class="research-card-content">
                            <h3>Application to Space Missions</h3>
                            <p>Translating estimation and navigation methods into practical solutions for planetary exploration missions, including autonomous surface operations.</p>
                            <a href="./research.html" class="btn">Learn More</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Scroll indicators for research -->
            <div class="scroll-indicators">
                <div class="scroll-indicator scroll-left">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 19L8 12L15 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="scroll-indicator scroll-right">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 5L16 12L9 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
        </div>
    </section>

    <!-- Lab Photos Gallery moved below Research -->
    <section class="section">
        <div class="container">
            <div class="section-title">
                <h2>Our Lab</h2>
            </div>
            <div class="lab-photos">
                <div class="lab-photo">
                    <img src="./assets/lab/lab-photo-1.jpg" alt="Lab robot testing" onerror="this.src='assets/placeholder/robot.svg'">
                </div>
                <div class="lab-photo">
                    <img src="./assets/lab/lab-photo-2.jpg" alt="Computer visualization" onerror="this.src='assets/placeholder/robot.svg'">
                </div>
                <div class="lab-photo">
                    <img src="./assets/lab/lab-photo-3.jpg" alt="Student working" onerror="this.src='assets/placeholder/robot.svg'">
                </div>
                <div class="lab-photo">
                    <img src="./assets/lab/lab-photo-4.jpg" alt="Student with multiple monitors" onerror="this.src='assets/placeholder/robot.svg'">
                </div>
            </div>
            <div class="section-subtitle">
                <p>The Space Robotics and Generative Estimation (SRGE) Lab, directed by Dr. Cagri Kilic, specializes in state estimation and navigation for planetary exploration robots. The lab develops physics-informed estimation methods, integrating pseudo-measurements and multi-sensor fusion to enhance localization and mapping in GNSS-denied environments. Research spans single- and multi-robot systems, optimizing autonomy, perception, and mobility in challenging terrains. The lab's work is directly applicable to planetary missions, supporting autonomous exploration, resource prospecting, and robotic collaboration on the Moon and Mars.</p>
            </div>
        </div>
    </section>

    <!-- Latest News Section -->
    <section class="section section-light" id="latest-news">
        <div class="container">
            <div class="section-title">
                <h2>Latest News</h2>
            </div>
            <div class="section-subtitle">
                Stay informed about our latest developments and achievements.
            </div>
            <div id="latestNewsContainer"></div>
            <div style="text-align: center; margin-top: var(--spacing-lg);">
                <a href="./news.html" class="btn">View All News</a>
            </div>
        </div>
    </section>

    <section class="section" id="equipment">
        <div class="container">
            <div class="section-title">
                <h2>Equipment</h2>
            </div>
            <div class="section-content">
                <ul>
                    <li>Rover and quadruped robotic platforms</li>
                    <li>Bipedal robot</li>
                    <li>End effector and manipulators</li>
                    <li>High-precision IMUs, LiDAR, and stereo cameras</li>
                    <li>Computational resources for sensor fusion and generative estimation modeling</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Team Section -->
    <section class="section section-light" id="team">
        <div class="container">
            <div class="section-title">
                <h2>Our Team</h2>
            </div>
            <div class="section-subtitle">
                Meet the brilliant minds behind our cutting-edge research in space robotics and generative estimation.
            </div>
            
            <!-- Team grid now populated dynamically -->
            <div class="scroll-container">
                <div class="team-grid" id="teamGrid"></div>
            </div>
            
            <!-- Scroll indicators for team -->
            <div class="scroll-indicators">
                <div class="scroll-indicator team-scroll-left">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 19L8 12L15 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="scroll-indicator team-scroll-right">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 5L16 12L9 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="contact">
        <div class="container">
            <div class="section-title">
                <h2>Contact Us</h2>
            </div>
            <div class="section-subtitle">
                Interested in our research or potential collaborations? Get in touch with the SRGElab team.
            </div>
            <div class="contact-info">
                <h3>Lab Information</h3>
                <div class="contact-details">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z" fill="currentColor"/>
                            </svg>
                        </div>
                        <div class="contact-text">
                            <p>Department of Aerospace Engineering<br>600 S. Clyde Morris Blvd.<br>Daytona Beach, FL 32114-3900</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z" fill="currentColor"/>
                            </svg>
                        </div>
                        <div class="contact-text">
                            <a href="mailto:dbsrgelb@erau.edu">dbsrgelb@erau.edu</a>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M6.62 10.79C8.06 13.62 10.38 15.94 13.21 17.38L15.41 15.18C15.69 14.9 16.08 14.82 16.43 14.93C17.55 15.3 18.75 15.5 20 15.5C20.55 15.5 21 15.95 21 16.5V20C21 20.55 20.55 21 20 21C10.61 21 3 13.39 3 4C3 3.45 3.45 3 4 3H7.5C8.05 3 8.5 3.45 8.5 4C8.5 5.25 8.7 6.45 9.07 7.57C9.18 7.92 9.1 8.31 8.82 8.59L6.62 10.79Z" fill="currentColor"/>
                            </svg>
                        </div>
                        <div class="contact-text">
                            <a href="tel:+15551234567">(555) 123-4567</a>
                        </div>
                    </div>
                </div>
                
                <h3>Lab Hours</h3>
                <p>Monday - Friday: 9:00 AM - 5:00 PM<br>
                Saturday - Sunday: Closed</p>
                
                <p style="margin-top: var(--spacing-md);">For research collaborations, student opportunities, or media inquiries, please contact us directly via email.</p>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 Space Robotics and Generative Estimation Lab</p>
                <p>Embry-Riddle Aeronautical University</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Research section scroll controls
            const researchContainer = document.querySelector('#research .scroll-container');
            const leftResearchBtn = document.querySelector('.scroll-left');
            const rightResearchBtn = document.querySelector('.scroll-right');
            
            leftResearchBtn.addEventListener('click', () => {
                researchContainer.scrollBy({ left: -400, behavior: 'smooth' });
            });
            
            rightResearchBtn.addEventListener('click', () => {
                researchContainer.scrollBy({ left: 400, behavior: 'smooth' });
            });
            
            // Team section scroll controls
            const teamContainer = document.querySelector('#team .scroll-container');
            const leftTeamBtn = document.querySelector('.team-scroll-left');
            const rightTeamBtn = document.querySelector('.team-scroll-right');
            
            leftTeamBtn.addEventListener('click', () => {
                teamContainer.scrollBy({ left: -400, behavior: 'smooth' });
            });
            
            rightTeamBtn.addEventListener('click', () => {
                teamContainer.scrollBy({ left: 400, behavior: 'smooth' });
            });
            
            // Menu toggle for mobile
            const menuToggle = document.getElementById('menuToggle');
            const navLinks = document.getElementById('navLinks');
            
            menuToggle.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                menuToggle.classList.toggle('active');
            });

            // Theme toggle + logo swap
            const themeToggle = document.getElementById('themeToggle');
            const siteLogo = document.getElementById('siteLogo');
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark');
                if (siteLogo) siteLogo.src = 'assets/Copy of SRGE Lab-White 1.png';
            }
            themeToggle.addEventListener('click', () => {
                document.body.classList.toggle('dark');
                const isDark = document.body.classList.contains('dark');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
                if (siteLogo) siteLogo.src = isDark ? 'assets/Copy of SRGE Lab-White 1.png' : 'assets/Copy of SRGE Lab_black 1.png';
            });

            // Populate Team dynamically
            fetch('./data/team.json').then(r => r.json()).then(team => {
                const grid = document.getElementById('teamGrid');

                // Seniority sort: Kilic first, then PhD, then Master's, then Undergraduate, then others
                const rank = role => {
                    const r = (role || '').toLowerCase();
                    if (r.includes('lab director') || r.includes('director') || r.includes('kilic')) return 0;
                    if (r.includes('phd')) return 1;
                    if (r.includes("master")) return 2;
                    if (r.includes('undergraduate')) return 3;
                    return 4;
                };
                const bySeniority = [...team].sort((a, b) => {
                    const ar = rank(a.role);
                    const br = rank(b.role);
                    if (ar !== br) return ar - br;
                    return (a.name || '').localeCompare(b.name || '');
                });

                grid.innerHTML = bySeniority.map(member => {
                    const base = (member.name || '')
                        .toLowerCase()
                        .normalize('NFD').replace(/\p{Diacritic}/gu, '')
                        .replace(/[^a-z0-9]+/g, '_')
                        .replace(/^_|_$/g, '');
                    const candidates = [
                        member.photo && member.photo.trim() ? member.photo.trim() : `assets/team/${base}.jpg`,
                        `assets/team/${base}.jpeg`,
                        `assets/team/${base}.png`,
                        // Also check singular 'asset' directory in case files were placed there
                        `asset/team/${base}.jpg`,
                        `asset/team/${base}.jpeg`,
                        `asset/team/${base}.png`
                    ];
                    const firstSrc = candidates[0];
                    const rest = candidates.slice(1).join('|');
                    return `
                    <div class="team-member">
                        <div class="team-member-img">
                            <img src="${firstSrc}" data-candidates="${rest}" alt="${member.name}">
                        </div>
                        <div class="team-member-info">
                            <h3>${member.name}</h3>
                            <p class="team-member-role">${member.role}</p>
                            <p>${member.bio || ''}</p>
                            <div class="team-member-contact">
                                ${member.email ? `<a href="mailto:${member.email}">${member.email}</a>` : ''}
                                ${member.linkedin ? `${member.email ? ' · ' : ''}<a href="${member.linkedin}" target="_blank" rel="noopener">LinkedIn</a>` : ''}
                            </div>
                        </div>
                    </div>
                    `;
                }).join('');

                // Fallback image loader: try .jpg -> .jpeg -> .png then placeholder
                grid.querySelectorAll('.team-member-img img').forEach(img => {
                    img.addEventListener('error', () => {
                        const list = (img.getAttribute('data-candidates') || '').split('|').filter(Boolean);
                        if (list.length) {
                            const next = list.shift();
                            img.setAttribute('data-candidates', list.join('|'));
                            img.src = next;
                        } else {
                            img.src = 'assets/placeholder/robot.svg';
                        }
                    }, { once: false });
                });
            }).catch(() => {});

            // Populate Publications dynamically with embeds
            fetch('./data/papers.json').then(r => r.json()).then(pubs => {
                const list = document.getElementById('publicationsList');
                if (!list) return; 
                list.innerHTML = pubs.map((p, i) => `
                    <div class="research-card">
                        <div class="research-card-content">
                            <h3>${p.title}</h3>
                            <p><strong>Authors:</strong> ${p.authors}</p>
                            <p><strong>Venue:</strong> ${p.venue || ''}</p>
                            <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
                                ${p.pdf ? `<a class="btn" href="${p.pdf}" target="_blank" rel="noopener">PDF</a>` : ''}
                                ${p.link ? `<a class="btn" href="${p.link}" target="_blank" rel="noopener">Link</a>` : ''}
                                ${p.embed ? `<button class="btn btn-outline" data-embed="pub-${i}">Embed</button>` : ''}
                            </div>
                        </div>
                        ${p.embed ? `<div id="pub-${i}" style="display:none; height:420px;">
                            <iframe src="${p.embed}" style="width:100%; height:100%; border:0;" loading="lazy"></iframe>
                        </div>` : ''}
                    </div>
                `).join('');
                list.querySelectorAll('button[data-embed]').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const id = btn.getAttribute('data-embed');
                        const pane = document.getElementById(id);
                        if (pane.style.display === 'none') { pane.style.display = 'block'; btn.textContent = 'Hide'; }
                        else { pane.style.display = 'none'; btn.textContent = 'Embed'; }
                    });
                });
            }).catch(() => {});

            // Load latest news for homepage
            fetch('./data/news.json').then(r => r.json()).then(news => {
                const container = document.getElementById('latestNewsContainer');
                if (!container || news.length === 0) return;
                
                // Get the most recent news item
                const latestNews = news.sort((a, b) => new Date(b.date) - new Date(a.date))[0];
                
                // Format date
                const formatDate = (dateString) => {
                    const options = { year: 'numeric', month: 'long', day: 'numeric' };
                    return new Date(dateString).toLocaleDateString('en-US', options);
                };
                
                container.innerHTML = `
                    <div style="max-width: 800px; margin: 0 auto;">
                        <div style="background: var(--card-bg); border-radius: var(--border-radius); overflow: hidden; box-shadow: var(--box-shadow); display: flex; flex-direction: column; ${latestNews.image ? '' : 'padding: var(--spacing-lg);'}">
                            ${latestNews.image ? `
                                <div style="height: 300px; overflow: hidden;">
                                    <img src="${latestNews.image}" alt="${latestNews.title}" 
                                         style="width: 100%; height: 100%; object-fit: cover;"
                                         onerror="this.style.display='none'"/>
                                </div>
                                <div style="padding: var(--spacing-lg);">
                            ` : '<div>'}
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-sm); font-size: 0.9rem;">
                                    <span style="color: var(--accent-color); font-weight: 500;">${formatDate(latestNews.date)}</span>
                                    <span style="background: var(--secondary-color); color: var(--text-light); padding: 0.2rem 0.5rem; border-radius: 12px; font-size: 0.8rem; font-weight: 600;">${latestNews.category}</span>
                                </div>
                                <h3 style="color: var(--primary-color); margin: 0 0 var(--spacing-sm); font-size: 1.5rem; line-height: 1.3;">${latestNews.title}</h3>
                                <p style="margin: 0 0 var(--spacing-md); line-height: 1.6; font-size: 1rem;">${latestNews.summary}</p>
                                <a href="./news.html" style="color: var(--accent-color); text-decoration: none; font-weight: 600; transition: var(--transition);">Read Full Article →</a>
                            ${latestNews.image ? '</div>' : ''}
                        </div>
                    </div>
                `;
            }).catch(() => {});
        });
    </script>
</body>
</html>
